# 6 - Абонентский справочник

## Задание
Написать программу Абонентский справочник. В отличие от базового задания со статическим массивом, данная реализация использует двухсвязный динамический список:

```bash
struct abonent {
    char name[10];
    char second_name[10];
    char tel[10];
};

struct node {
    struct abonent data;
    struct node *next;
    struct node *prev;
};
```
При запуске на экран выводится текстовое меню:
```bash
1) Добавить абонента
2) Удалить абонента
3) Поиск абонентов по имени
4) Вывод всех записей
5) Выход
```

## Структура проекта
```bash
├── Doxyfile        # Конфиг для генерации документации (doxygen)
├── include
│   ├── abonent.h   # Заголовочный файл (структуры и прототипы)
│   └── utils.h      # Утилиты (очистка ввода, кастомный strcmp)
├── Makefile
├── README.md
└── src
    ├── abonent.c   # Логика работы со списком (Add, Remove, Clear)
    ├── main.c      # Точка входа
    ├── menu.c      # Интерфейс пользователя и обработка ввода
    └── utils.c     # Реализация вспомогательных функций
```

## Сборка и запуск
```bash
make                # Сборка проекта
make run            # Сборка и запуск
make doc            # Генерация документации
make clean          # Удаление объектных файлов и бинарника
```

## Проверка работоспособности функций и утечки памяти (Valgrind)

> Добавление 5 абонентов и вывод их
```bash
Абонент: 1 1 
         tel: 1
Абонент: 2 2 
         tel: 2
Абонент: 3 3 
         tel: 3
Абонент: 4 4 
         tel: 4
Абонент: 5 5 
         tel: 5
----Абонентский справочник [5]----
1) Добавить абонента 
2) Удалить абонента 
3) Поиск абонентов по имени 
4) Вывод всех записей 
5) Выход 
```

> Удаление головы и хвоста (первого и последнего абонента)
```bash
 Абонент [id: 1] был удален
----Абонентский справочник [4]----
...
 Абонент [id: 5] был удален
----Абонентский справочник [3]----
...
Абонент: 2 2 
         tel: 2
Абонент: 3 3 
         tel: 3
Абонент: 4 4 
         tel: 4
----Абонентский справочник [3]----
1) Добавить абонента 
2) Удалить абонента 
3) Поиск абонентов по имени 
4) Вывод всех записей 
5) Выход 
```

> Поиск абонента по имени
```bash
Абонент "5" не найден
...
Абонент: 3 3 
         tel: 3
----Абонентский справочник [3]----
1) Добавить абонента 
2) Удалить абонента 
3) Поиск абонентов по имени 
4) Вывод всех записей 
5) Выход 
```

> Выход и проверка вывода от Valgrind

```bash
==262350== 
==262350== HEAP SUMMARY:
==262350==     in use at exit: 0 bytes in 0 blocks
==262350==   total heap usage: 7 allocs, 7 frees, 2,288 bytes allocated
==262350== 
==262350== All heap blocks were freed -- no leaks are possible
==262350== 
==262350== For lists of detected and suppressed errors, rerun with: -s
==262350== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
```