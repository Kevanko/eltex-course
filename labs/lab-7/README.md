# 7 - Статические библиотеки

## Задание
Реализовать программу калькулятор с функционалом над целыми числами:
сложение, вычитание, умножение, деление. При запуске программы на экране
появляется текстовое меню:

При запуске на экран выводится текстовое меню:
```bash
1) Сложение
2) Вычитание
3) Умножение
4) Деление
5) Выход
```

Далее пользователь вводит номер пункта меню, вводит параметры и на экран
выводится результат выбранной операции. Затем пользователь возвращается в
меню пока не выберет пункт 5.
За отрисовку меню и логику калькулятора отвечает модуль main.c. Функционал
вынесен в статическую библиотеку libcalc.a (каждая операция в отдельном
модуле (add.c, sub.c, mul.c, div.c)).

## Структура проекта
```bash
├── bin              # Обьектные файлы и испольняемый main - файл
├── include
│   └── calc.h       # Прототипы функций (add, sub, mul, div)
├── Makefile         # Сборка объектов, библиотеки и линковка
├── README.md
└── src
    ├── main.c       # Интерфейс пользователя и логика меню
    ├── add.c        # Модуль сложения
    ├── sub.c        # Модуль вычитания
    ├── mul.c        # Модуль умножения
    └── div.c        # Модуль деления
```

## Сборка и запуск
```bash
make run            # Сборка и запуск
make clean          # Удаление объектных файлов и бинарника
```


## Проверка

> Проверка нужных символов
```bash
nm bin/libcalc.a 

add.o:
0000000000000000 T add

sub.o:
0000000000000000 T sub

mul.o:
0000000000000000 T mul

div.o:
0000000000000000 T div
```

## Шаги сборки


> Обьектные файлы
```bash
gcc -c src/add.c -o bin/add.o -I include
gcc -c src/sub.c -o bin/sub.o -I include
gcc -c src/mul.c -o bin/mul.o -I include
gcc -c src/div.c -o bin/div.o -I include
```

> Библиотека, упоковываем все обьектрые файлы (утилитой ar)
```bash
ar rcs bin/libcalc.a bin/add.o bin/sub.o bin/mul.o bin/div.o
```

> Линковка
```bash
gcc src/main.c -I include -L bin -lcalc -o bin/main
```